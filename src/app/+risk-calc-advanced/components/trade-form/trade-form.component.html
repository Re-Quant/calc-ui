<form [formGroup]="form" (change)="onChange()">
  <div class="trade-form mat-elevation-z8">
    <h4>Common</h4>

    <app-common-inputs-panel [group]="form.get('commonPanel')"
                      (dataChange)="onChange()"
    ></app-common-inputs-panel>
  </div>

  <div class="trade-form mat-elevation-z8">
    <h4>Entries</h4>

    <app-entry-price formName="entries"
                     [group]="form.get('entries')"
                     [calculationData]="[{Vq:1, Vb:2}, {Vq:1, Vb:2}]"
                     (addOrderItemAbove)="addOrderItemAbove('entries', $event)"
                     (addOrderItemBelow)="addOrderItemBelow('entries', $event)"
                     (removeOrderItem)="removeOrderItem('entries', $event)"
                     (setOrderItemPercentage)="onSetOrderItemPercentage($event)"
                     (equalizePercentage)="equalizePercentage('entries')"
                     (dataChange)="onChange()"
    ></app-entry-price>
  </div>

  <div class="trade-form mat-elevation-z8">
    <h4>Stop Losses</h4>

    <app-stop-loss formName="stops"
                   [group]="form.get('stops')"
                   [calculationData]="[{Vq:1, Vb:2}, {Vq:1, Vb:2}]"
                   (addOrderItemAbove)="addOrderItemAbove('stops', $event)"
                   (addOrderItemBelow)="addOrderItemBelow('stops', $event)"
                   (removeOrderItem)="removeOrderItem('stops', $event)"
                   (setOrderItemPercentage)="onSetOrderItemPercentage($event)"
                   (equalizePercentage)="equalizePercentage('stops')"
                   (dataChange)="onChange()"
    ></app-stop-loss>
  </div>

  <div class="trade-form mat-elevation-z8">
    <h4>Take Profits</h4>

    <app-take-profit formName="takes"
                     [group]="form.get('takes')"
                     [calculationData]="[{Vq:1, Vb:2}, {Vq:1, Vb:2}]"
                     (addOrderItemAbove)="addOrderItemAbove('takes', $event)"
                     (addOrderItemBelow)="addOrderItemBelow('takes', $event)"
                     (removeOrderItem)="removeOrderItem('takes', $event)"
                     (setOrderItemPercentage)="onSetOrderItemPercentage($event)"
                     (equalizePercentage)="equalizePercentage('takes')"
                     (dataChange)="onChange()"
    ></app-take-profit>
  </div>

  <app-trade-info *ngIf="data$ | async as data" [data]="data"></app-trade-info>
</form>
